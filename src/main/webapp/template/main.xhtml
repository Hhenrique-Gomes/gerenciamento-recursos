<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<h:head>
		<title><ui:insert name="title">Agendamento</ui:insert></title>
		<h:outputStylesheet name="primeicons/primeicons.css"
			library="primefaces" />
		<h:outputStylesheet name="css/main.css" />
		<h:outputStylesheet name="css/primeflex.css" />
		<h:outputScript name="js/main.js" />
		<script>
			var ctx = "#{request.contextPath}"
		</script>
	</h:head>

	<h:body>
		<p:growl id="growl" showDetail="false" sticky="false">
			<p:autoUpdate />
		</p:growl>
	
		<p:ajaxStatus onstart="PF('statusDialog').show()"
			onsuccess="PF('statusDialog').hide()"
			onerror="window.location.replace(ctx + '/erros/erro-interno.xhtml');" />
		<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
			closable="false" resizable="false" showHeader="false">
			<span class="pi pi-spin pi-spinner" />
		</p:dialog>
		<h:form>
			<p:confirmDialog global="true">
				<p:commandButton value="Sim" type="button"
					styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
				<p:commandButton value="Não" type="button"
					styleClass="ui-confirmdialog-no" icon="pi pi-times" />
			</p:confirmDialog>
		</h:form>
	
		<div id="wrapper">
			<div class="ui-g">
				<div id="header" class="ui-g-12"> 
					<div class="ui-g-11 headerText">Sistema de Agendamento</div>
					<div class="ui-g-1 rightAlign">
						<h:form>
							<p:commandButton id="logout"
								action="#{authView.logout}"
								icon="pi pi-sign-out" 
								title="Sair"
								styleClass="rounded-button ui-button-flat"
								style="color:white" />
						</h:form>
					</div>
				</div>
				
				<p:outputPanel styleClass="ui-g-12" rendered="#{request.userPrincipal != null}">
					<h:form id="formTemplate">
						<p:menubar styleClass="noBorder">
							<p:menuitem icon="pi pi-home" 
								value="Home" 
								outcome="/index" />
							<p:menuitem icon="pi pi-ticket" 
								value="Categorias" 
								outcome="/categorias/index" />
							<p:menuitem icon="pi pi-sitemap" 
								value="Recursos" 
								outcome="/recursos/index" />
							<p:menuitem icon="pi pi-list" 
								value="Itens" 
								outcome="/itens/index" />
							<p:submenu icon="pi pi-question"
								label="Solicitações">
								
								<p:menuitem  
									value="Nova" 
									outcome="/solicitacoes/nova" />
								<p:menuitem  
									value="Pesquisa" 
									outcome="/solicitacoes/index" />
							</p:submenu>
							<p:menuitem icon="pi pi-user" 
								value="Usuarios" 
								outcome="/usuarios/index" />
						</p:menubar>
					</h:form>
				</p:outputPanel>
			</div>
		
			<div id="content" style="margin-top:50px">
				<ui:insert name="content">Bem vindo!</ui:insert>
			</div>
				
			<div id="footer" class="ui-g">
				<div class="ui-g-4 footerText">2021</div>
				<div class="ui-g-4 centerAlign footerText">Versão: 0.1.3</div>
				<div class="ui-g-4 rightAlign footerText">Facthus/UniBrasília.</div>
			</div>
		</div>
	</h:body>
</html>